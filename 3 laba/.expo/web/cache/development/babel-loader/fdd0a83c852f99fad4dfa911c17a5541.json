{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\\\u0443\\u0447\\u0451\\u0431\\u0430\\\\\\u043C\\u043E\\u0431\\u0438\\u043B\\u043A\\u0430\\\\MoscowPolytech\\\\Mobile Development\\\\ex3\\\\src\\\\screens\\\\IntroScreen.js\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Permission from 'expo-permissions';\nexport var IntroScreen = function IntroScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  function askForPermission() {\n    var _await$Permission$ask, status;\n\n    return _regeneratorRuntime.async(function askForPermission$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Permission.askAsync(Permission.CAMERA, Permission.CAMERA_ROLL));\n\n          case 2:\n            _await$Permission$ask = _context.sent;\n            status = _await$Permission$ask.status;\n\n            if (!(status !== 'granted')) {\n              _context.next = 7;\n              break;\n            }\n\n            Alert.alert('К сожалению, у вас нет прав!');\n            return _context.abrupt(\"return\", false);\n\n          case 7:\n            return _context.abrupt(\"return\", true);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var takePhotoHandler = function takePhotoHandler() {\n    var hasPermissions, img;\n    return _regeneratorRuntime.async(function takePhotoHandler$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(askForPermission());\n\n          case 2:\n            hasPermissions = _context2.sent;\n\n            if (hasPermissions) {\n              _context2.next = 5;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 5:\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n              quality: 0.7,\n              allowsEditing: true,\n              aspect: [3, 4]\n            }));\n\n          case 7:\n            img = _context2.sent;\n            navigation.navigate('Review', {\n              image: img.uri\n            });\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, \"\\u0424\\u043E\\u0442\\u043E\\u043D\\u043E\\u0436\"), React.createElement(Text, {\n    style: styles.textLow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, \"\\u041B\\u0443\\u0447\\u0448\\u0435\\u0435 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435 \\u0434\\u043B\\u044F \\u043E\\u0431\\u0440\\u0435\\u0437\\u043A\\u0438 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0439\"), React.createElement(TouchableOpacity, {\n    style: styles.goButton,\n    onPress: takePhotoHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.goButtonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, \"\\u0421\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E\")));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#545454'\n  },\n  text: {\n    color: '#fff',\n    fontSize: 32\n  },\n  textLow: {\n    color: '#f5f5f5',\n    fontSize: 16\n  },\n  goButton: {\n    backgroundColor: 'transparent',\n    borderWidth: 1,\n    borderColor: '#fff',\n    padding: 10,\n    width: '50%',\n    marginTop: 20\n  },\n  goButtonText: {\n    color: '#fff',\n    fontWeight: 'bold',\n    textAlign: 'center'\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Desktop/учёба/мобилка/MoscowPolytech/Mobile Development/ex3/src/screens/IntroScreen.js"],"names":["React","ImagePicker","Permission","IntroScreen","navigation","askForPermission","askAsync","CAMERA","CAMERA_ROLL","status","Alert","alert","takePhotoHandler","hasPermissions","launchCameraAsync","quality","allowsEditing","aspect","img","navigate","image","uri","styles","container","text","textLow","goButton","goButtonText","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor","color","fontSize","borderWidth","borderColor","padding","width","marginTop","fontWeight","textAlign"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {View, Text, StyleSheet, TouchableOpacity, Alert} from \"react-native\";\r\nimport * as ImagePicker from 'expo-image-picker'\r\nimport * as Permission from 'expo-permissions'\r\n\r\nexport const IntroScreen = ({navigation}) => {\r\n\r\n    async function askForPermission() {\r\n        const {status} = await Permission.askAsync(\r\n            Permission.CAMERA,\r\n            Permission.CAMERA_ROLL\r\n        );\r\n        if (status !== 'granted') {\r\n            Alert.alert('К сожалению, у вас нет прав!');\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    const takePhotoHandler = async () => {\r\n        const hasPermissions = await askForPermission();\r\n        if (!hasPermissions) {\r\n            return\r\n        }\r\n\r\n        const img = await ImagePicker.launchCameraAsync({\r\n            quality: 0.7,\r\n            allowsEditing: true,\r\n            aspect: [3, 4]\r\n        });\r\n\r\n        navigation.navigate('Review', {image: img.uri})\r\n    };\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n                <Text style={styles.text}>Фотонож</Text>\r\n                <Text style={styles.textLow}>Лучшее приложение для обрезки фотографий</Text>\r\n                <TouchableOpacity\r\n                    style={styles.goButton}\r\n                    onPress={takePhotoHandler}\r\n                >\r\n                    <Text style={styles.goButtonText}>Сделать фотографию</Text>\r\n                </TouchableOpacity>\r\n        </View>\r\n    )\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: '#545454'\r\n    },\r\n    text: {\r\n        color: '#fff',\r\n        fontSize: 32\r\n    },\r\n    textLow: {\r\n        color: '#f5f5f5',\r\n        fontSize: 16\r\n    },\r\n    goButton: {\r\n        backgroundColor: 'transparent',\r\n        borderWidth: 1,\r\n        borderColor: '#fff',\r\n        padding: 10,\r\n        width: '50%',\r\n        marginTop: 20\r\n    },\r\n    goButtonText: {\r\n        color: '#fff',\r\n        fontWeight: 'bold',\r\n        textAlign: 'center',\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}